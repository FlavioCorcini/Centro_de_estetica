<div class="login-page d-flex flex-column justify-content-center align-items-center min-vh-100 position-relative">

    <div class="mb-3">
        <img src="/unhaLogo.jpg" alt="Logo" class="profile-img shadow-sm">
    </div>

    <h4 class="mb-4 text-dark fw-light" style="font-family: 'Segoe UI', sans-serif;">
        {{ isLoginMode ? 'Rafaella Samora' : 'Crie sua Conta' }}
    </h4>

    <div class="card p-4 shadow-lg border-0 login-card">
        <div class="card-body">

            <div class="text-center mb-4">
                <h5 class="fw-normal mb-1">{{ isLoginMode ? 'Bem-vindo' : 'Novo Cadastro' }}</h5>
                <p class="text-muted small">
                    {{ isLoginMode ? 'Entre com suas credenciais' : 'Preencha seus dados abaixo' }}
                </p>
            </div>

            <form [formGroup]="isLoginMode ? loginForm : cadastroForm" (ngSubmit)="onSubmit()">

                <ng-container *ngIf="!isLoginMode">
                    <div class="mb-3">
                        <label class="form-label small text-muted mb-1">Nome Completo</label>
                        <div class="input-group">
                            <span class="input-group-text bg-light border-end-0"><i
                                    class="bi bi-person-badge text-muted"></i></span>
                            <input type="text" class="form-control bg-light border-start-0 ps-0" placeholder="Seu nome"
                                formControlName="nome">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label small text-muted mb-1">WhatsApp</label>
                        <div class="input-group">
                            <span class="input-group-text bg-light border-end-0"><i
                                    class="bi bi-whatsapp text-muted"></i></span>
                            <input type="tel" class="form-control bg-light border-start-0 ps-0"
                                placeholder="(XX) XXXXX-XXXX" formControlName="telefone" mask="(00) 00000-0000">
                        </div>
                    </div>
                </ng-container>


                <div class="mb-3">
                    <label class="form-label small text-muted mb-1">Email</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light border-end-0"><i
                                class="bi bi-envelope text-muted"></i></span>
                        <input type="email" class="form-control bg-light border-start-0 ps-0"
                            placeholder="seu@email.com" formControlName="email">
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label small text-muted mb-1">Senha</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light border-end-0"><i
                                class="bi bi-lock text-muted"></i></span>
                        <input [type]="mostrarSenha ? 'text' : 'password'"
                            class="form-control bg-light border-start-0 border-end-0 ps-0" placeholder="Sua senha"
                            formControlName="senha">
                        <span class="input-group-text bg-light border-start-0 cursor-pointer" (click)="toggleSenha()">
                            <i class="bi" [ngClass]="mostrarSenha ? 'bi-eye' : 'bi-eye-slash'"></i>
                        </span>
                    </div>
                </div>

                <div class="d-grid mt-4">
                    <button type="submit" class="btn btn-black py-2 rounded-3"
                        [disabled]="isLoginMode ? loginForm.invalid : cadastroForm.invalid">
                        {{ isLoginMode ? 'Entrar' : 'Cadastrar' }}
                    </button>
                </div>

                <div *ngIf="erroLogin && isLoginMode" class="alert alert-danger mt-3 py-2 small text-center">
                    Email ou senha incorretos.
                </div>

                <div class="text-center mt-4">
                    <p class="small text-muted mb-0">
                        {{ isLoginMode ? 'Não tem uma conta?' : 'Já tem uma conta?' }}
                        <a href="javascript:void(0)" (click)="toggleMode()"
                            class="text-dark fw-bold text-decoration-none">
                            {{ isLoginMode ? 'Cadastre-se' : 'Faça Login' }}
                        </a>
                    </p>
                </div>

            </form>
        </div>
    </div>

    <footer class="mt-5 text-muted x-small">
        © 2025 Rafaella Samora | Nail Designer
    </footer>
</div>